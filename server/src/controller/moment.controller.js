const axios = require('axios')

class MomentController {
  async getMoment (ctx, next) {
    const { data } = await axios({
      method: 'get',
      // url: 'https://www.zhihu.com/api/v3/moments?limit=10&desktop=true', //关注
      url: 'https://www.zhihu.com/api/v3/feed/topstory/recommend?limit=10&desktop=true',
      headers: {
        'cookie': '_zap=e3039784-ab71-41e3-9de0-c397c5be2a30; _xsrf=W3hC7csyMtui2Mu5iZweBGKwEu4qCcyE; d_c0="AXBdcd1imBOPTj7m2AICztI31Z6g9CPI9f4=|1629423978"; __snaker__id=MX1XcJVLPPOvWrHA; _9755xjdesxxd_=32; YD00517437729195%3AWM_TID=rKHOMivjpR9BEARQVFN%2BjixHDrX2H7vK; q_c1=6de1c3fbca5b4bf186b8fb68b7a06ec3|1636082864000|1629709538000; ff_supports_webp=1; l_n_c=1; o_act=login; ref_source="other_https://www.zhihu.com/signin?next=/"; r_cap_id="MjgyMDA3YzgzYjczNGY3MThlMzkzYzMyN2U3NjVkZmE=|1636699050|cac0e6941b094faaf2513d80137ec45064552a56"; cap_id="YzViYTBhMmRhMTMxNDIyY2I4NzZkZDc5OGRiZDdiMzE=|1636699050|391db22d3fc39421fe2e8ea845d083ef4851d1ef"; l_cap_id="YzVlYmQyYzUzM2Y5NGRmM2FjN2FkMDBmNDQyOTgyYzA=|1636699050|522b1b977d46e4d70661dbd6f017bbe257ebc984"; n_c=1; SESSIONID=N8cDUjWo8ePfsAbhZ1XEsawTJ6dGYjrYJtMd9XeCvlc; JOID=Wl0SAE4Ep86DRZFLUw-XnGWa-NNPR52pwR32Hjgxz5zhMN0kOV4bUOlFnk1RHkc5BrjE2q97WPtDSCVk7ehn-0U=; osd=U1wWAE4NpsqDRZhKVw-XlWSe-NNGRpmpwRT3Gjgxxp3lMN0tOFobUOBEmk1RF0Y9BrjN26t7WPJCTCVk5Olj-0U=; YD00517437729195%3AWM_NI=AG56ytfbuSCa%2BrBQkXh6SA0mVP7asWuKlEWQvpnZZmQ5kGpsrR4lr0CR13d2fhhM1J8WtdU9nqOGdA%2F%2BGffmAbr5QmftraDbryvW5ppKjkuCFPOGuGOoFaWrcv3kEeX3MlM%3D; YD00517437729195%3AWM_NIKE=9ca17ae2e6ffcda170e2e6eeccf96fb2e996d2d869a2e78ab2c44a839e8fabaa34bb99f9abb83ff2b3a1b6f42af0fea7c3b92a8399fbd7fc80a6bebbb4c26be9ae8eb2ea54acea9da2b3679690f982f25db795a4a6d65bb6b0a2bbd96793eba5a8f379b28efc8df13c818effd4e73aa6b8a8aeb442fc89bc85d833aeaf81a8e74bedf58987e56783bebed6d467a6acbe82c76ab2a7bab8b87cb495a68cf849869081a8f84d8db18a82d67aa1aafd8cc86f9ced838dd037e2a3; gdxidpyhxdE=UEo961e%5C4v2%5CuiGpgKUpb512%2B9AzUudOJ5cGpMAO5P%5CxVGN%2BbwTl7J2L3%2FG6s91A%2BoiWxxNSRlyIKyzYCNKkkOoauEK6iZ04f9EnNfk5le84RhfB0hSzCS5Nl5QjaUPqsLWDkM9Ukk%2Bw7u2VC2Qt%2Bs6PAAwv%2B3%2B%5Cze0s3Tb4jcnCjN12%3A1637732241478; captcha_session_v2="2|1:0|10:1637731912|18:captcha_session_v2|88:cjR4SzROSUpuMTlZZWpBUityQzRRaW9rdnBBamJzNGQxaXJqdnBNNkdKU1BteW0waHpyRzRnYjNXWlpoMVp2SQ==|4f84beab5cf20663a4104b5260942b693abc4e0c7aef1ac9734c9b77d2c7d1d2"; captcha_ticket_v2="2|1:0|10:1637731920|17:captcha_ticket_v2|704:eyJ2YWxpZGF0ZSI6IkNOMzFfdm1zcmV5eGFMaWg0LkRkcFI0dGthRVBTak1UcUVOSjEuUG5VcFhHTXk1S0luZWJXaDJBcDlyUkg3MlBBaDVHWnVRUGxuRENkMVByX09EWnpqWU55Tl83aUZLT2NjZDE1ZlBoWm9GUnVVN0h3Y1BLdEZzVk00UTl2MnFjWHhuSXhheGNfVS5XTFVjcFdkTFNleEJBSlZFT3JmWWVxNzhSdFp0Z2RScmlTcTkyWVVaVXJuRloxZUJ3V3NURHREbmJZV2JjaGZxbFhySUVLTHoxeFRRUlFDZ1ZJNi1uWWwwMjRqczYyVDJUemdXLnFBNS5MbGVwNXlkV0RwWXIuTW1OYmNzVUZ1b3haVnZYUUhpb09vNndNOGlHSTFGQVBPUTJVRGNIOHFSY3dyb180YlNVYlVWei5hLXhicXpZRzJrMEtwY2pZejF6dkRpVmlZTm9qdC1QSXJqa0tlRkg3R24uUVhLZHdSLTBZVFlNcXV0Lk9KaHROTFAxejR6N2NTRmU0Qmplejhid1NMbHlDYlA4VXpxMWZ5YVREcExjSXVUbHhKTjdwWF96ZFF4ZXJmVnZoenB4ZkRabDRrZlhudXhqMXRlMkE0NFpybjRhUnppeWNKQURLSTF1OGZ5THFXLml4NXlkbXhJenpHTDFzMGI1Y3BRY0w1UTc3VFdaMyJ9|a6017dbc376b24857543d292ffea6167348d85adb3afb550d1958c91523fec02"; z_c0="2|1:0|10:1637731920|4:z_c0|92:Mi4xMERCNUxRQUFBQUFCY0YxeDNXS1lFeVlBQUFCZ0FsVk5VQnlMWWdETHQ0alE2LW5LQTFpSmhWM1FYQUVnSHFqUW9B|47f44fb8e76caf3a3a586f8e2b29a50cc6f10dbc60b12b3ae104517aab6f7d4e"; Hm_lvt_98beee57fd2ef70ccdd5ca52b9740c49=1637636874,1637660428,1637723957,1637810430; NOT_UNREGISTER_WAITING=1; Hm_lpvt_98beee57fd2ef70ccdd5ca52b9740c49=1637812631; tst=f; KLBRSID=031b5396d5ab406499e2ac6fe1bb1a43|1637812640|1637804993'
      }
    })

    ctx.body = data
  }
}

module.exports = new MomentController()

// 文章赞同
// https://www.zhihu.com/api/v4/articles/432495975/voters